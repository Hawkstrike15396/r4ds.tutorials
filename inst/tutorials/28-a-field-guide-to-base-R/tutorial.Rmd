---
title: A field guide to base R
author: David Kane and Aryan Kancherla
tutorial:
  id: a-field-guide-to-base-R
output:
  learnr::tutorial:
    progressive: yes
    allow_skip: yes
runtime: shiny_prerendered
description: 'Tutorial for Chapter 28: A field guide to base R'
---

```{r setup, include = FALSE}
library(learnr)
library(tutorial.helpers)
library(tidyverse)

knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local") 

```

```{r copy-code-chunk, child = system.file("child_documents/copy_button.Rmd", package = "tutorial.helpers")}
```

```{r info-section, child = system.file("child_documents/info_section.Rmd", package = "tutorial.helpers")}
```



## Introduction
### 

This tutorial covers [Chapter 28: A field guide to base R](https://r4ds.hadley.nz/base-r) from [*R for Data Science (2e)*](https://r4ds.hadley.nz/) by Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund. 

## Subsetting with a single bracket

### 

The `[` bracket can be used to extract sub-components from data frames and vectors, with the syntax `x[i]`. `x` represents the vector and `i` represents the position of the value inside of `x` (1st element is position 1, second element is position 2, and so forth). 

### Exercise 1

Run the following code below:

```{r subsetting-with-one-bracket-1}
x <- c("one", "two", "three", "four", "five")

```

###

This code sets the variable `x` to the vector `c("one", "two", "three", "four", "five")`. In the next exercise, we will start extracting elements from it.

### Exercise 2

Next, extract the first element of `x`, using the `x[i]` syntax.

```{r subsetting-with-one-bracket-2, exercise = TRUE}

```

```{r subsetting-with-one-bracket-2-hint, eval = FALSE}

x[...]

```

###

As you can see, the code extracts the first value of the `x` vector, printing out the value "one". 

### Exercise 3

We can also pass in a vector to `[]`, containing various positions to extract from `x`. In the code chunk below, extract the 2nd, 3rd, and 4th values of `x`, using `c()`

```{r subsetting-with-one-bracket-3, exercise = TRUE}

```

```{r subsetting-with-one-bracket-3-hint, eval = FALSE}

x[c(..., ..., ...)]

```

###

When you run the code above, you should see that it extracts "two", "three", and "four". By using vectors inside `[]`, you can extract multiple elements at once 

### Exercise 4

Along with passing in a vector of positive values into `[]`, you can also pass in a vector of negative values. Run the following code and observe what happens.

```{r subsetting-with-one-bracket-4}

x[c(-1, -2)]

```

###
Negative values drop the elements at the specified positions. The code above drops the first and second elements, returning "three", "four", and "five".

### Exercise 5

Subsetting with logical vectors are another type of thing that you can subset a vector with. Run the code below.

```{r subsetting-with-one-bracket-5}
x <- c(10, 3, NA, 5, 8, 1, NA)
x[!is.na(x)]
x[x %% 2 == 0]

```

###

The second line of this code returns all the non-missing values of `x`, which is 10, 3, 5, 8, and 1. The 3rd line of this code, with the use of `%%`, returns all the even values of `x`, which are 10 and 8. This also returns both of the NA values, as NA indices are always included in the output.

### Exerise 6

And finally, the last kind of vector that you can subset is a character vector. Using the following vector below, lets extract the `xyz` element. On a new line, type `x` followed with a pair of brackets, passing in the string `"xyz"`

```{r subsetting-with-one-bracket-6, exercise = TRUE}

```



```{r subsetting-with-one-bracket-6-hint, eval = FALSE}
x <- c(abc = 1, def = 2, xyz = 5)
x["..."]

```


Along with sub-setting logical, character, and integer vectors, you can also subset nothing. For example, by running `x[]` on the code above, it'll just return the vector `x`.


### Exercise 7

Sub-setting can not only be used on vectors; they work on data sets too. There are many ways to use `[` with data sets, but the most common way is to subset by selecting rows and columns, with the syntax `df[row, col]`. Using the tibble below, try and extract the letter "a". (Hint: To make it easier to visualize, print the tibble on a separate line before extracting the letter)

```{r subsetting-with-one-bracket-7, exercise = TRUE}
df <- tibble(
  x = 1:3, 
  y = c("a", "e", "f"), 
)

```


```{r subsetting-with-one-bracket-7-hint, eval = FALSE}

df[... , ...]

```

###
This extracts the element in the 1st row, second column, which is the letter "a". 

## Exercise 8

You can also leave the row/column input blank when extracting data from a data set. For example, `df[rows, ]` returns the specified row(s) and all columns in the data set, while `df[, cols]` returns all rows and the specified column(s) in the data set. Using the data frame below, extract all the rows, and the columns `x` and `z`.

```{r subsetting-with-one-bracket-8, exercise = TRUE}
df <- tibble(
  x = 1:3, 
  y = c("a", "e", "f"), 
  z = runif(3)
)


```


```{r subsetting-with-one-bracket-8-hint, eval = FALSE}

df[, c("...", "...")]

```

###

As you can see, by leaving the first part of the subset blank (the part before the comma), the code returns all of the rows in `df`, but only returns columns `x` and `z` due to the vector inputted after the comma.

## Subsetting with double brackets and a dollar sign

## Apply family

## For loops

## Plots


## Summary
### 

This tutorial covered [Chapter 28: A field guide to base R](https://r4ds.hadley.nz/base-r) from [*R for Data Science (2e)*](https://r4ds.hadley.nz/) by Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund. 



```{r download-answers, child = system.file("child_documents/download_answers.Rmd", package = "tutorial.helpers")}
```
