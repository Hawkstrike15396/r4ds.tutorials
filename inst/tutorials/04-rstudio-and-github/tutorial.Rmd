---
title: RStudio and Github
author: Tejas Mundhe
tutorial:
  id: rstudio-and-github
output:
  learnr::tutorial:
    progressive: yes
    'allow_skip:': yes
runtime: shiny_prerendered
description: Introduction to RStudio, Git and GitHub.
---

```{r setup, include = FALSE}
library(learnr)
library(tutorial.helpers)
library(tidyverse)
library(knitr)
library(usethis)
knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local")
```

```{r copy-code-chunk, child = system.file("child_documents/copy_button.Rmd", package = "tutorial.helpers")}
```

```{r info-section, child = system.file("child_documents/info_section.Rmd", package = "tutorial.helpers")}
```

<!-- Should we be making much bigger use of the **gert** package? Allows you to execute most git commands. Or maybe we should only show students usethis, at least until the end of this tutorial. But I can't find usethis equivalents to functions like gert::git_log(). -->

<!-- Can we add some tests? Currently, seems like lots of commands, like gert::git_log(), don't work in testing. Maybe set up a test environment of some type, perhaps by setting up all sets of scaffolding for testthat? -->

<!-- Update all the images. For example, the first one shows the project as existing in OneDrive, which is a bad idea! Make sure that the png file size is small. -->

<!-- It is annoying that we can't do all this from the Console. Specifically, I hate having to use `git --version`. Wish that usethis::git_version() were exported. Maybe library(credentials) would work? Wish there were equivalents for things like git config --global user.name. But there don't seem to be! We set values with usethis::use_git_config(), but we can't check them. Annoying!  -->

<!-- Add three exercises --- like Project 1, Project 2 and Project 3 --- each of which starts with a new Github repo, connects to RStudio, edits the .gitignore, commits, create a Quarto doc, creates a plot and publishes it on RPubs. -->

<!-- Use Github pages for one of the Projects? Not sure! How would we do that? Create an index.qmd, which knits to index.html, then set up Github pages with root (not docs) as the choice. -->

<!-- As you are creating the Projects, pull all the material out of r4ds-materual-to-add.txt, especially everything in Chapter 29 section, but also anything else there you like. Review all the material and try to add it in a sensible way. -->

<!-- For Project 1, use the top material out of r4ds-materual-to-add.txt, especially everything in Chapter 29 section, as knowledge drops. -->

<!-- For Project 2, have 5 questions, each of which adds a new code chunk, each with a different code chunk option. The question for the student is something like `cat analysis.qmd | tail -n 10`. Then, you knowledge drop. -->

<!-- For project 3, give a more thorough tour of Github: explain more about the different pages you can end up on. Consider www.github.com, www.github.com/user-name, and www.github.com/user-name/this-project. -->

<!-- For project 4, explain how to use the visual editor. Also, review all the shortcut keys we learned in RStudio and Code. -->

<!-- Three times that .gitignore is editted and then committed. First, with whatever.Rproj. Second, example_files. Third, rsconnect.  -->


<!-- You own every word. You own this tutorial! Fix the images. -->

<!-- Switch to dashes, not underscores, in file names. -->

<!-- Remove unused images/ -->

<!-- Consider removing all references to the Terminal. Often, there are usethis functions which do the same. Or maybe showing them the Terminal is a good thing in this exercise. -->


## Introduction
### 

This tutorial covers material which is not actually in [*R for Data Science (2e)*](https://r4ds.hadley.nz/quarto.html) by Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund. But the material is in keeping with the spirit of that book. The material covered in [Chapter 4 Workflow: code style](https://r4ds.hadley.nz/workflow-style.html) appears in the *RStudio and Code* tutorial in this package.

Professionals store their work on Github, or a similar "source control" tool. If your computer blows up, you don't want to lose your work. Github is like Google Drive --- both live in the cloud --- but for your computational work rather than your documents. 

This tutorial will introduce you to Github and to Git, a program for keeping track of changes in your code.

The most useful reference for Git/Github/RStudio is *[Happy Git and GitHub for the useR](https://happygitwithr.com/)*. Refer to that book whenever you have a problem.

## Terminal Overview
### 

The RStudio [Terminal](https://docs.posit.co/ide/user/ide/guide/tools/terminal.html) is how you directly communicate with the computer using commands, whereas the RStudio [Console](https://docs.posit.co/ide/user/ide/guide/code/console.html) is how you talk to R. 

This section will help introduce you to the Terminal so that you'll be up to speed for the commands needed for the rest of the tutorial.


### Exercise 1

Start by opening up the Terminal tab in RStudio. This is next to the Console tab, within the Console pane. 

```{r out.width = "700px"}
include_graphics("images/terminalEx1.png")
```

### 

You should see some text, which is your file path followed by a prompt such as a dollar sign. Copy (by highlighting, then right clicking and selecting the "copy" option) and paste your path (like the example above) into the box below. 


```{r terminal-overview-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

We abbreviate the instructions **c**opy/**p**aste the **c**ommand/**r**esponse as CP/CR throughout this tutorial.


### Exercise 2

To practice, type the command `pwd` into the next line of your Terminal and hit return. CP/CR.


```{r terminal-overview-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This should return a value something like `/Users/dkane/Desktop/projects/`. Your answer will be different, not least because your username is unlikely to be `dkane`. This is the location on your computer where the R program started up when you opened RStudio.

### 

That's all you need to know about the Terminal for this tutorial. The **r4ds.tutorials** package includes another tutorial entirely dedicated to the Terminal. 

Going forward, make sure to pay special attention to whether given commands are supposed to be run in the *Console* or the *Terminal*.

## Setting up GitHub
### 

GitHub is an online drive for all your R code and projects. In the professional world, what you have on your GitHub account is more important than what you have on your resume. It is a verifiable demonstration of your abilities.

### Exercise 1

Install [Git](https://git-scm.com/) by following the instructions of the [Install Git](https://happygitwithr.com/install-git.html) chapter in [*Happy Git and GitHub for the useR*](https://happygitwithr.com/).

### 

After you install Git, you should quit and then restart RStudio so that it has a chance to "recognize" that Git is installed. (Note that restarting RStudio is **not** the same as restarting your R session **within** your RStudio instance. To quit RStudio you need to go to the `RStudio -> Quit RStudio` menu item.) 

After restarting RStudio, click on the Terminal pane. Run `git --version` in the Terminal to make sure that Git is installed and accessible. CP/CR.


```{r setting-up-github-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

[*Pro Git*](https://git-scm.com/book/en/v2) is the best reference book for Git and Github.

### Exercise 2

The next step is to create a GitHub account by following the instructions at the [GitHub homepage](https://github.com/). Follow [this advice](https://happygitwithr.com/github-acct.html#username-advice) **when choosing your username.** We recommend using a permanent email address for this account, not one which you lose access to when, for example, you change schools or jobs.

```{r}
include_graphics("images/github_account_creation.png")
```

### 

Copy your GitHub account URL in the field below. It should look like:

<https://github.com/your-username>

```{r setting-up-github-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

[Git](https://en.wikipedia.org/wiki/Git) is "software for tracking changes in any set of files, usually used for coordinating work among programmers collaboratively developing source code during software development."

### Exercise 3

Now that you have your GitHub account, you need to connect it to RStudio. The first step of doing this is giving RStudio your GitHub account email and your name.

### 

<!-- Ran into an issue here where `usethis::use_git_config(user.name = "your-username", user.email = "your@email.org")` would produce an error if you had multiple `user.name`s or `user.email`s saved (this can be checked using `usethis::git_sitrep()`). To fix this, I first used the terminal command `git config --global --replace-all user.name "newname"`. However, there seemed to be an issue where the terminal would say it is replaced but it wasn't being recognized. In the end, I was able to locate the actual global git config file under `C:/User/username/` and edit it directly. In the file, there were fields formatted like `name = ...` and `email = ...`. Deleting these lines completely seemed to work correctly. Afterwards (Good to restart R session here), running `usethis::git_sitrep()` will show that the fields are not set and you should now be able to run `usethis::use_git_config(user.name = "your-username", user.email = "your@email.org")` without error. -->

Run `usethis::use_git_config(user.name = "your-username", user.email = "your@email.org")` in the Console, substituting the email and user name you used for your GitHub account. Note that this will not return anything. As long as you don't get an error message, it has worked.

### 

Run `git config --global user.name` in the *Terminal* to make sure your computer remembers your GitHub username. CP/CR

```{r setting-up-github-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### Exercise 4

Run `git config --global user.email` in the *Terminal* to make sure your GitHub email is stored too. CP/CR.

```{r setting-up-github-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

### 

Now, your GitHub username and email are stored so that your computer can automate a lot of the tedious actions required to communicate with GitHub.

### Exercise 5

**Note:** Make sure you received the expected outputs of the name and email associated with your Github account in the previous two exercises.

If GitHub is our Google Drive, then GitHub repositories, or "repos," are the Google folders in which we store our work. Let's make a practice repo!

To begin, sign into GitHub and go to the homepage: `www.github.com`. Click the green "New" button on the upper left side of the page. 

```{r out.width = "700px"}
include_graphics("images/github_new_repo.png")
```

Name your repository `First_Repo`. Then, select the "public" option for your repo and check the box saying "Add a README file". [README](https://en.wikipedia.org/wiki/README) is a document where programmers often add or explain details of their project. When in doubt follow [these instructions](https://happygitwithr.com/push-pull-github.html#make-a-repo-on-github).

After you've done that, go ahead and click "Create repository" to create your first repo!

```{r out.width = "700px"}
include_graphics("images/repo_detail.png")
```

### 

GitHub should have directed you to a page called the project page after creating the repo. Copy the url of the project page and paste it below. The url should look something like `github.com/your-username/First_Repo`.

```{r setting-up-github-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

The "public" option means that anyone will be able to view the repository. Only you can edit it. You might have noticed "Add .gitignore" as another option, but we we will never check this option because RStudio will automatically create a `.gitignore` file for us.

### Exercise 6

The next step will be to create the exact same project in your local computer through the process of **cloning**. By having a local and a GitHub version, you can edit your project on your computer and send all the changes you've made to GitHub, so the GitHub version can be synced up with your local version.

To clone the repo, click on the green button that says "Code". Then, copy the link shown. You can use the clipboard button on the right to automatically copy it.

```{r out.width = "875px"}
include_graphics("images/repo_clone.png")
```

### 

Paste the link below.

```{r setting-up-github-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

It should look something like:

`https://github.com/davidkane9/First_Repo.git`

### 

This link points to your project folder stored in GitHub. It is slightly different from the url of the project page because the `.git` suffix tells you that it's a special GitHub object and not a webpage.


### Exercise 7

To connect your Github repo to an R project, we first make a new project. While you are making a new project, you will not be able to access this tutorial. 

**Read all instructions before making your project.**

### 

* Click the "File" dropdown menu in the top left of the R Studio window.

* Click "New Project ...".

* Instead of clicking "New Directory" as we did previously, click on "Version Control". 

* Click on "Git". 

* Paste the link you copied from GitHub into "Repository URL". Make sure your project is in the `projects` directory you made in the "RStudio and Code" tutorial. If it is not, click on "Browse...", and select your `projects` folder. 

* Hit the "tab" key. This will copy the name of the repo into the box for the "Project directory name." It is a good idea for your repos and project names to be identical.

* Click "Create Project".

This last step will cause RStudio to restart. Go ahead and follow these steps now. Then, return to the tutorial.

### Exercise 8

Reminder: You just completed these steps:

* `File -> New Project ... -> Version Control -> Git`

* Paste repo url. Hit "tab" key.

* Click "Create Project".

In the Terminal, run `git remote -v`. CP/CR.

```{r setting-up-github-8}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

It should look something like:

````
Davids-MBP:First_Repo dkane$ git remote -v
origin  https://github.com/davidkane9/First_Repo.git (fetch)
origin  https://github.com/davidkane9/First_Repo.git (push)
Davids-MBP:First_Repo dkane$ 
````

Don't worry too much about the details. You've successfully linked a repo to RStudio!

### Exercise 9

You have linked your GitHub repo to your R project, but you haven't proven that you are someone with editing access to the project. If we just let anyone with the GitHub link edit our repo, that's obviously going to lead to problems with security down the line. This is why we use something called a **P**ersonal **A**ccess **T**oken, or a **PAT**.

### 

A PAT is just a special computer-generated password between your computer and GitHub that lets GitHub connect your GitHub account and your computer. If you want to learn more, see  "[Personal access token for HTTPS](https://happygitwithr.com/https-pat.html)" from [*Happy Git and GitHub for the useR*](https://happygitwithr.com/)

### 

Create a PAT by using the `usethis::create_github_token()` function in the Console. This should redirect you to a GitHub page about creating a PAT.

### 

Set the "Note" field to "My First PAT" and keep the scopes the same as the **default**. It should look something like the picture below (Doesn't have to be exact).

```{r out.width = "625px"}
include_graphics("images/pat.png")
```

### 

Press "Generate Token" at the bottom of the page to finalize your PAT. If you have trouble, the function `usethis::gh_token_help()` may be helpful. 

### Exercise 10

Now that we've created our PAT, first temporarily copy it somewhere you have easy access to. We will store it in RStudio to make sure the computer doesn't forget.

### 

Run `gitcreds::gitcreds_set()` in the Console and follow the prompts, providing your token when asked.

### 

Restart your R session by going to "Session" at the top menu bar and clicking the option to Restart R, which should be under that tab. (This is not the same thing as restarting RStudio.) Run `usethis::git_sitrep()` in the Console. CP/CR.

```{r setting-up-github-10}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 12)
```

### 

The key "Github user" section should look something like:

````
── GitHub user 
• Default GitHub host: 'https://github.com'
• Personal access token for 'https://github.com': '<discovered>'
• GitHub user: 'davidkane9'
````

See "[Managing Git(Hub) Credentials](https://usethis.r-lib.org/articles/git-credentials.html)" for more details.



## Updating .gitignore
### 

The `.gitignore` file determines which files git should *ignore*. You should be able to see your `.gitignore` file in the Files tab in the File pane. 

(To see any files which are "hidden" --- those that begin with a period `.` --- you may need to click on the gear symbol in the Files tab (next to the "Rename" button) and then select "Show Hidden Files".)


### Exercise 1

From the Console, run `list.files()`. CP/CR.

```{r updating-gitignore-1}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

```{r updating-gitignore-1-test, include = FALSE}
list.files()
```

### 

In the "RStudio and Code" tutorial, we saw that an R project begins with just one file, the `.Rproj` file, which is "First_Repo.Rproj" in this case. But, because this R project started by connecting to a Github repo --- and because we initialized that repo with a README --- we also have a `README.md` file.

### Exercise 2

From the Console, run `list.files(all.files = TRUE)`. CP/CR

```{r updating-gitignore-2}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

```{r updating-gitignore-2-test, include = FALSE}
list.files(all.files = TRUE)
```

### 

Because `.gitignore` is a "hidden" file, since its name begins with a `.`, we need to set `all.files = TRUE` in `list.files()` if we want it to be returned. Don't worry about hidden directories like `.git` and `.Rproj.user`. We won't be using them.


### Exercise 3

The purpose of `.gitignore` is to list all the files that you don't want to be uploaded to GitHub. This is especially useful when you are working with big datasets or files with private information.

Open the `.gitignore` and add a new line with `First_Repo.Rproj`. This tells git to ignore any file named `First_Repo.Rproj`. Save the file, but make sure that the last line in the file in blank.  

Run `readLines(".gitignore")` in the Console. CP/CR.


```{r updating-gitignore-3}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

<!-- No test case because .gitignore won't exist in testing. -->

### 

This should output all of the lines in your `.gitignore` file, which should include `First_Repo.Rproj`.

We could also have used `*.Rproj`. The \* tells your computer that we want to prevent all files ending in `.Rproj` from being uploaded.


### Exercise 4

Navigate to the Git tab in the Environment pane. You should see `.gitignore` listed but not `First_Repo.Rproj`. The Git tab shows all the changes you have made on your local computer. Since you added `First_Repo.Rproj` in `.gitignore`, `First_Repo.Rproj` should not show up as one of the changed files that the GitHub version needs to be synced with.

If you do see `First_Repo.Rproj`, try clicking on the refresh button --- a small clockwise swirl --- in the upper right. Or make sure you have it spelled correctly.

```{r}
include_graphics("images/updated_gitignore.png")
```

### Exercise 5

Now that we've updated our `.gitignore` file, we want to upload this new version to GitHub. Otherwise, GitHub doesn't know that we want to hide our `First_Repo.Rproj` file.

### 

To do so, go to the Git tab in the top right of your screen. Click the checkbox next to the `.gitignore` file and then click on the `Commit` button.

```{r}
include_graphics("images/commit.png")
```

### 

This will open a new window where you will write a commit message. The message is meant to note what you're adding/changing within the repo. And yes, it's mandatory. Just a few (sensible) words are enough.

### Exercise 6

Run `gert::git_log() |> select(-commit, -merge, -files) |> slice(1)` in the Console, which returns the author, time, and message of the last commit.  CP/CR.

```{r updating-gitignore-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

If the error "could not find slice function" is thrown then load the library "dplyr" with `library(dplyr)` and try again.

### Exercise 7

Next, press `Push`, i.e.,  the green arrow on the top right. This pushes or uploads the changes to GitHub. Open up GitHub and refresh the project page to see the  commit message you just made at the top of your repo page.

### 

Run `gert::git_ahead_behind()$ahead` in the Console. CP/CR.

```{r updating-gitignore-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This should return `0`, showing that you are 0 commits out of sync with the GitHub version.

## Publishing to R Pubs
### 

Let's publish a file from our project onto the internet using [R Pubs](https://rpubs.com/).

### Exercise 1

First let's make a new Quarto document. Select `File -> New File -> Quarto Document ...`. Change the title to "Example" and keep the other fields as the default values. Save the file with `Cmd/Ctrl - s` and name the file `example`. RStudio will automatically add the `.qmd` suffix.

### 

Run `list.files()`. CP/CR.

```{r publishing-to-r-pubs-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You should see `example.qmd` somewhere in the output. Recall that the title inside of the document ("Example") has no necessary connection to the name of the file (`example.qmd`).

### Exercise 2

Render this Quarto document by pressing the "Render" button. Run `list.files()` in the Console. CP/CR.

```{r publishing-to-r-pubs-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

`example.html` should be one of the files outputted.

### Exercise 3

Notice the blue button at the top of your qmd. Click that and select Rpubs. (If you do not already have an account, you will need to create one. Always choose the free option.) Create a slug --- the file name for the last part of the url --- like "my-project" and publish. Put the URL of your Rpubs Page below:

```{r publishing-to-r-pubs-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

If you did not select a slug, then Rpubs provided a meaningless slug, most likely a string of numbers. That does not look cool! Much better to have a slug which describes the file.

### Exercise 4

In the "Git" tab in the top right corner, check the boxes next to "example.qmd", and "example.html" to stage them. Press the commit button and add the commit message "published webpage".

### 

Now, press the `Push` button with the green arrow. Your changes have now been saved to Github!

### 

Run `gert::git_ahead_behind()$ahead` in the Console. This should return "0" just like before. CP/CR.

```{r publishing-to-r-pubs-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

Nice work! You've created a Rpubs page. All your work is backed up to GitHub.

### 

We now understand the entire data science work cycle. Begin with Github repository, connect to an RStudio project, create a Quarto document (including a plot or another analysis), publish your results to RPubs, and, finally, commit/push all your work to Github. Let's practice these skills in new projects.

## Project 1
### 

This first project will simply review the steps which we have already learned. Making the data science work cycle second nature requires practice. 

We don't need to set up git/Github/Rpubs again, having already done so above.

### Exercise 1

Create a Github repo (called "project-1"). Make sure to click the "Add a README file" check box. Copy/paste the url for its Github location.

```{r project-1-1}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

### 

Your answer should look something like:

```
https://github.com/davidkane9/project-1
```

It is a good idea to always start a new data science project with a Github repo.


### Exercise 2

Connect the `project-1` Github repo to an R project on your computer. Recall the steps:

* `File -> New Project ... -> Version Control -> Git`

* Paste the repo url into the "Repository URL" box. 

* Hit "tab" key so that the "Project directory name" box is filled in.

* Click "Create Project".

The new R project will be named `project-1` by default. That "tab" key trick is very handy!  Keeping the names of repos/projects aligned makes organization simpler. 

From the Console, run `list.files()`. CP/CR.

```{r project-1-2}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

```{r project-1-2-test, include = FALSE}
list.files()
```

### 

Your answer should look something like this:

```
> list.files()
[1] "project-1.Rproj" "README.md"      
> 
```

The default README has an "md" suffix to indicate that it is a **M**ark**d**own document.

RStudio has automatically restarted and placed you within the `project-1` R project. You should also have a directory called `project-1` in the location in which you store your projects.

### Exercise 3

Go to `File -> New File -> Quarto Document...`. Title it "Quarto 1". Name it `quarto-1`.  RStudio will automatically add the `qmd` suffix. Save the file.

From the Console, run `list.files()`. CP/CR.

```{r project-1-3}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

Titles should be in title case, obviously. File names are usually all lower case. Spaces in titles are fine, but there should never be spaces (or other weird characters --- other than dashes/underlines) in file names.

### Exercise 4

To produce a complete report containing all text, code, and results, click “Render” or press `Cmd/Ctrl + Shift + K`. You can also do this programmatically with `quarto::quarto_render("quarto-1.qmd")`. This will create an HTML file and display it in the Viewer tab in the Files pane.

From the Console, run `list.files()`. CP/CR.

```{r project-1-4}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

### 

You should now have both `quarto-1.qmd` and `quarto-1.html` files. 


### Exercise 5

Switch to "Source" (from "Viewer" right next to it) in the tab above the Source Editor pane. As you are getting used to Quarto documents, it is best to look at the actual source, at least at the start.

Delete everything in `quarto-1.qmd` except the top box with title, format, and editor. CP/CR everything in `quarto-1.qmd` here.

```{r project-1-5}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

When you render the document, Quarto sends the qmd file to **knitr**, which executes all of the code chunks and creates a new markdown (.md) document which includes the code and its output. The markdown file generated by **knitr** is then processed by [pandoc](https://pandoc.org/), which is responsible for creating the finished file.

### Exercise 6

Add a code chunk within your document and add `library(tidyverse)` and `library(palmerpenguins)`. Render the document to ensure that everything works. (Fix any errors if it doesn't.) CP/CR everything in the quarto doc here.

```{r project-1-6}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

Recall that you can add a code chunk by either pressing the “Insert” button icon in the editor toolbar (the green button with the letter C and a tiny plus sign) or by using the shortcut key combination: `Cmd + Option + i` / `Ctrl + Alt + i`.

You could also manually type the chunk delimiters ```` ```{r}```` and ```` ``` ````, but, obviously, that is the worst option.



### Exercise 7

We need to make it so that we do not see this code or the output in the Quarto Doc. To do this, we will put `#| echo: false` and `#| output: false` before `library(tidyverse)` in the code chunk. CP/CR everything in the quarto doc here.

```{r project-1-7}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

`#| echo: false` makes it so that the code in the code chunk does not appear in the rendered Quarto Doc.`#| output: false` makes it so that the output of the code chunk does not appear in the rendered Quarto Doc. So, the previous code makes the whole code chunk with the libraries in it not visible in the final doc.

### Exercise 8

Add a new code chunk, and type `penguins`. Run code. CP/CR the output.

```{r project-1-8}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

Inserting images and customizing how they are displayed is also facilitated with the visual editor. You can either paste an image from your clipboard directly into the visual editor (and RStudio will place a copy of that image in the project directory and link to it) or you can use the visual editor’s Insert > Figure / Image menu to browse to the image you want to insert or paste it’s URL. In addition, using the same menu you can resize the image as well as add a caption, alternative text, and a link.

### Exercise 9

Before `penguins`, add `#| echo: false` and `#| warning: false`. It should give you a tibble: 344 × 8.

```{r project-1-9}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

### 

The `#| echo: false` makes it so that the code in the code chunk does not appear in the rendered Quarto Doc.`#| warning: false` makes it so that the warning of the code chunk does not appear in the Quarto Doc. Now, we will create a simple plot.

### Exercise 10

Change the code to pipe `penguins` into `ggplot()`, and within `ggplot()`, set `mapping = aes()`. Set `x` to `body_mass_g` and `y` to `flipper_length_mm` within `aes()`. Save the file.

Run `tail -n 7 quarto-1.qmd` in the Terminal. CP/CR.

```{r project-1-10}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

`tail -n 7 quarto-1.qmd` gives you the last 7 lines of your `quarto-1.qmd` document. You can change the amount of lines you see by changing the 7 to another number. 

### Exercise 11

Within`aes()`, set `color` to `species` to sort the graph by the species and add the `geom_point()` function. Don't forget `+`. 

Run `tail -n 7 quarto-1.qmd`in the Terminal. CP/CR.

```{r project-1-11}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

The visual editor has many more features that we haven’t enumerated here that you might find useful as you gain experience authoring with it.

Most importantly, while the visual editor displays your content with formatting, under the hood, it saves your content in plain Markdown and you can switch back and forth between the visual and source editors to view and edit your content using either tool.

### Exercise 12

Add `labs()` with `+`. Set `title` to `"Penguins Body Mass compared to Flipper Length"`, `x` to `"Body Mass"`, and `y` to `"Flipper Length"`.  Run `tail -n 10 quarto-1.qmd` in the Terminal. CP/CR.

```{r project-1-12}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

<!-- Knowledge drop. -->


### Exercise 13

Render `quarto-1.qmd`, either by hitting the "Render" button or by using `Cmd/Cntl-shift-K`. 

```{r project-1-13}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

### 

Run `list.files()` from the Console. CP/CR.


### Exercise 14

Next to the green code chunk button at the top right of your Quarto Doc, you should see a blue circle button. That is the publish button. Click that, then click Rpubs, then click publish. Change the name from `Document` to `quarto-1.qmd`. Copy the url of your website below.

```{r project-1-14}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

And that is it! You have completed a simple example of the data science workflow cycle. You started with nothing, created a Github repository, connected it to an R Project on your computer, created a Quarto document, rendered it into a plot and pubished it on Rpubs.


<!-- DK: How about cleaning up this whole thing before we end? Edit the .gitignore by adding `quarto-1_files`. Then, commit and push everything. test this with `git log | head -n 10`. -->

## Project 2
### 

The most important set of options controls if your code block is executed and what results are inserted in the finished report:

`eval: false`, `include: false`, `echo: false`, `message: false`, `results: hide`, `error: true`

As you work more with knitr, you will discover that some of the default chunk options don’t fit your needs and you want to change them.

### Exercise 1

Create a Github repo (called "project-2"). Make sure to click the "Add a README file" check box. Copy/paste the url for its Github location.

```{r project-2-1}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

### 

Your answer should look something like:

```
https://github.com/davidkane9/project-2
```

It is a good idea to always start a new data science project with a Github repo.


### Exercise 2

Connect the `project-2` Github repo to an R project on your computer. Name the R project `project-2` also. Keeping the names of repos/projects aligned makes organization simpler. From the Terminal, run `ls`. CP/CR.

```{r project-2-2}
question_text(NULL,
	answer(NULL, correct = TRUE),
	allow_retry = TRUE,
	try_again_button = "Edit Answer",
	incorrect = NULL,
	rows = 3)
```

### 

Your answer should look something like this:

```
Davids-MBP:project-2 dkane$ ls
README.md               project-2.Rproj
Davids-MBP:project-2 dkane$
```

The default README has an "md" suffix to indicate that it is a **M**ark**d**own document.

RStudio will automatically restart and place you within the `project-1` R project. You should also have a directory called `project-1` in the location in which you store your projects.

### Exercise 3

Go to File, New File, Quarto Document. Name it `Quarto-2`. From the Terminal, run `ls`. CP/CR.

```{r project-2-3}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

<!-- Knowledge Drop -->

### Exercise 4

We will start with `eval: false`. Create a new code chunk and within it put

```{r project-2-4}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

eval: false prevents code from being evaluated. (And obviously if the code is not run, no results will be generated). This is useful for displaying example code, or for disabling a large block of code without commenting each line.

### Exercise 5

```{r project-2-5}
question_text(NULL,
	message = "Place correct answer here.",
	answer(NULL, correct = TRUE),
	allow_retry = FALSE,
	incorrect = NULL,
	rows = 6)
```

### 

## Summary
### 

This tutorial covered material which is not actually in [*R for Data Science (2e)*](https://r4ds.hadley.nz/quarto.html) by Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund. But the material is in keeping with the spirit of that book. The material covered in [Chapter 4  Workflow: code style](https://r4ds.hadley.nz/workflow-style.html) appears in the *RStudio and Code* tutorial in this package.

You should now have Git working on your computer. You should have a Github account and know how to connect Github *repositories* to RStudio *projects*.

The most useful reference for Git/Github/RStudio is *[Happy Git and GitHub for the useR](https://happygitwithr.com/)*. Bookmark it!

```{r download-answers, child = system.file("child_documents/download_answers.Rmd", package = "tutorial.helpers")}
```
